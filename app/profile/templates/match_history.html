{%  load static %}
<div class="tv-match-history">
    <div class="tv-left">
        <button type="button" class="bottom-edit3 btn btn-outline-info" hx-get="{% url 'tournaments_history' %}" hx-target="#main-container" hx-push-url="true">TOURNAMENTS HISTORY</button>
        <h2 class="history-title glitch">1 VS 1 History</h2>
    </div>
    <div class="table-cont">
        <table class="table table-inside">
            <thead>
                <tr>
                    <th>User</th>
                    <th>User Score</th>
                    <th>Opponent</th>
                    <th>Opponent Score</th>
                    <th>Duration</th>
                </tr>
            </thead>
            <tbody>
                {% for match in matches %}
                <tr class="match-row">
                    <td>{{ match.player1 }}</td>
                    <td>{{ match.player1_score}}</td>
                    <td>{{ match.player2 }}</td>
                    <td>{{ match.player2_score}}</td>
                    <td>{{ match.game_duration }}</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</div>
<script>
    document.addEventListener('DOMContentLoaded', function() {
        var matchRows = document.querySelectorAll('.match-row');

        matchRows.forEach(function(row) {
            var player1Score = parseInt(row.children[1].textContent);
            var player2Score = parseInt(row.children[3].textContent);

            if (player1Score > player2Score) {
                row.classList.add('table-success');
            } else if (player1Score < player2Score) {
                row.classList.add('table-danger');
            }
            // Ajoutez d'autres conditions si nÃ©cessaire
        });
    });
</script>